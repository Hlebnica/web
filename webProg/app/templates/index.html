{% extends 'base.html' %}
{% block content %}
{% csrf_token %}


<h4>Books list</h4>
<table class="table table-bordered">
    <thead>
    <tr>
        <td>Name</td>
        <td>Author</td>
        <td>Price</td>
    </tr>
    </thead>
    {% for book in DataPaginated %}
    <tr>
        <td>{{book.name}}</td>
        <td>{{book.author}}</td>
        <td>{{book.amount}}</td>
        {% if isAuth and role == "admin" %}
        <td><a href="{%url 'edit' book.pk %}">
            <button type=button class="btn btn-edit">edit</button>
        </a></td>
        <td><a href="{%url 'delete' book.pk %}">
            <button type=button class="btn btn-delete">delete</button>
        </a></td>
        {% endif %}
    </tr>
    {% endfor %}
</table>
<form method="GET">
    <select name="paginate_by" id="">
        <option value="10">10</option>
        <option value="20">20</option>
        <option value="30">30</option>
        <option value="40">40</option>
    </select>
    <input type="submit" value="Paginate">
</form>
{% block pagination %}
<div class="pagination">
		<span class="page-links">
			{% if DataPaginated.has_previous %}
			<a href="?page=1&param={{param}}">&laquo; first</a>
			<a href="?page={{DataPaginated.previous_page_number}}&param={{param}}">previous</a>
			{% endif %}
			<span class="page-current">
				Page {{ DataPaginated.number }} of {{ DataPaginated.paginator.num_pages }}.
			</span>
			{% if DataPaginated.has_next %}
			<a href="?page={{DataPaginated.next_page_number}}&param={{param}}">next</a>
			<a href="?page={{DataPaginated.paginator.num_pages}}&param={{param}}">last &raquo;</a>
			{% endif %}
		</span>
</div>
{% endblock %}

{% if isAuth and role %}
<div><a href="{% url 'create' %}">
    <button type="button" class="btn btn-create">
        Add new
    </button>
</a></div>
{% endif %}

{% endblock %}